"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}(function(t){function e(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,t.isPlainObject(n)&&n),this.init()}var i,n=t("body"),o="qor.widget.inlineEdit";return e.prototype={constructor:e,init:function(){this.bind(),this.initStatus()},bind:function(){this.$element.on("click.qor.widget.inlineEdit",".qor-widget-button",this.click),t(document).on("keyup",this.keyup)},initStatus:function(){var e=document.createElement("iframe");e.src=i,e.id="qor-widget-iframe",e.attachEvent?e.attachEvent("onload",function(){t(".qor-widget-button").show()}):e.onload=function(){t(".qor-widget-button").show()},document.body.appendChild(e)},keyup:function(t){var e=document.getElementById("qor-widget-iframe");27===t.keyCode&&e&&e.contentDocument.querySelector(".qor-slideout__close").click()},click:function(){var e=t(this),i=document.getElementById("qor-widget-iframe"),o=i.contentWindow.$,d=i.contentDocument.querySelector(".js-widget-edit-link");if(d)return i.classList.add("show"),o?o(".js-widget-edit-link").data("url",e.data("url")).click():(d.setAttribute("data-url",e.data("url")),d.click()),n.addClass("open-widget-editor"),!1}},e.plugin=function(i){return this.each(function(){var n,d=t(this),r=d.data(o);if(!r){if(/destroy/.test(i))return;d.data(o,r=new e(this,i))}"string"==typeof i&&t.isFunction(n=r[i])&&n.apply(r)})},t(function(){n.attr("data-toggle","qor.widgets"),t(".qor-widget").each(function(){var e=t(this),n=e.children().eq(0);i=e.data("widget-inline-edit-url"),"static"===n.css("position")&&n.css("position","relative"),n.addClass("qor-widget").unwrap(),n.append('<div class="qor-widget-embed-wrapper"><button style="display: none;" data-url="'+e.data("url")+'" class="qor-widget-button">Edit</button></div>')});var o='[data-toggle="qor.widgets"]';t(document).on("disable.qor.widget.inlineEdit",function(i){e.plugin.call(t(o,i.target),"destroy")}).on("enable.qor.widget.inlineEdit",function(i){e.plugin.call(t(o,i.target))}).triggerHandler("enable.qor.widget.inlineEdit")}),e});
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"===("undefined"==typeof exports?"undefined":_typeof(exports))?require("jquery"):jQuery)}(function(t){function o(n,i){this.$element=t(n),this.options=t.extend({},o.DEFAULTS,t.isPlainObject(i)&&i),this.init()}var n="qor.notification";return o.prototype={constructor:o,init:function(){this.bind()},bind:function(){this.$element.on("undo.qor.action",t.proxy(this.undo,this)),this.$element.on("click.qor.notification",".qor-notification__load-more",this.load_more)},load_more:function(o){var n=t(o.target);return n.text(n.data("loading")),t.get(n.attr("href"),function(o){var i=t(o).find(".qor-notifications");t(".qor-notifications--archived").length>0&&i.find(".qor-notifications--archived").remove(),n.replaceWith(i.html())}),!1},undo:function(n,i,e,a){var r,f=i.data(),c=f.undoType,u=i.closest(".qor-notifications__item"),d=u.length?u:i.closest(".qor-notifications__item-undo").prev(".qor-notifications__item");a.undoLabel=f.undoLabel,r=t(window.Mustache.render(o.UNDO_HTML,a)),!e&&r.find("button").data(f),"notification"==c&&(d.before(a.notification),e?d.next(".qor-notifications__item-undo").remove():d.after(r),d.remove())},unbind:function(){this.$element.off("undo.qor.action",this.undo).off("click.qor.notification")},destroy:function(){this.unbind(),this.$element.removeData(n)}},o.DEFAULTS={},o.UNDO_HTML='<div class="qor-notifications__item-undo">\n        <span>[[message]]</span>\n        <button class="mdl-button mdl-button--colored is_undo" type="button" data-method="PUT" data-datatype="json" data-ajax-form="true" data-undo-type="notification">[[undoLabel]]</button>\n        </div>',o.plugin=function(i){return this.each(function(){var e,a=t(this),r=a.data(n);if(!r){if(/destroy/.test(i))return;a.data(n,r=new o(this,i))}"string"==typeof i&&t.isFunction(e=r[i])&&e.apply(r)})},t(function(){t(document).on("disable.qor.notification",function(n){o.plugin.call(t(".qor-notifications",n.target),"destroy")}).on("enable.qor.notification",function(n){o.plugin.call(t(".qor-notifications",n.target))}).triggerHandler("enable.qor.notification")}),o});